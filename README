(1)dependency

Jelly fish depends on automake and libtool; deSAMBA depend on zlib.

Run following commands to install them (Ubuntu).

apt-get install zlib1g-dev
apt-get install automake
apt-get install libtool

(2)build project

To build Jellyfish(v1.10) and deSAMBA

git clone https://github.com/FengheLi/deSAMBA.git
cd PATH/deSAMBA
unzip -o Jellyfish-1.1.10.zip
bash ./build

(3)build index

Run "build-index" to build index;
build-index all ./index_dir

(4)run classifation

/bin/deSAMBA classify -t 4 ./index_dir read.fasta -o result.sam

(5)run analysis

./download taxnomy #download node.dmp
./bin/deSAMBA analysis ana_meta ./result.sam ./nodes.dmp 

(4)Demo data

We use 8590 viral whole genome sequences as demo reference(NCBI viral reference sequences, AUG 2018). And ERR1050068.fastq (Zaire ebolavirus, https://www.ncbi.nlm.nih.gov/sra/ERR1050068, tid = 186538) as demo meta-genomic data set.

cd demo
cd ..
bash ./build-index ./demo/viral-ws.fa ./demo_index
./bin/deSAMBA classify -t 4 ./demo_index ./demo/ERR1050068.fastq -o ./ERR1050068.sam
./bin/deSAMBA analysis ana_meta ./ERR1050068.sam ./demo/nodes.dmp



